---
// import * as greatPost from '../posts/post-1.md';
const posts = Object.values(
  await import.meta.glob("../pages/posts/*.md", { eager: true }),
);
// console.log(posts);
---

<div class="window" id="main-window">
  <div class="title-bar" id="title-window">
    <div class="title-bar-text">Pavlo Koval - Blog</div>
    <div class="title-bar-controls">
      <button aria-label="Help"></button>
      <button aria-label="Close"></button>
    </div>
  </div>
  <div class="window-menu">
    <div class="window-menu-button">
      <a href="/" class="text-button">Home</a>
    </div>
    <!-- <div class="window-menu-button">
			<a href="https://github.com/pkvl" class="text-button">Github</a>
		</div>
		<div class="window-menu-button">
			<a href="https://x.com/thisispavlodev" class="text-button">Twitter(X)</a>
		</div> -->
  </div>
  <div class="window-content">
    <div class="inset-deep">
      <h4>Post Archive:</h4>
      <ul>
        {
          posts.map((post: any) => {
            console.log(post);
            return (
              <li>
                <div class="post-title-container">
                  <div class="post-title">
                    <a href={post.url}>{post.frontmatter.title}</a>
                  </div>
                  <div class="post-date">
                    <time>{post.frontmatter.date}</time>
                  </div>
                </div>
                <p class="post-description">{post.frontmatter.description}</p>
              </li>
            );
          })
        }
      </ul>
    </div>
  </div>
  <div class="status-bar">
    <p class="status-bar-field" id="copyright"></p>
    <p class="status-bar-field">Built with &lt;3</p>
    <p class="status-bar-field"><a href="/index.php">Page Source</a></p>
  </div>
</div>

<style>
  #main-window {
    max-width: 700px;
    height: 95%;
    top: 2%;
  }

  @media only screen and (max-device-width: 480px) {
    #main-window {
      width: 99%;
    }
  }
</style>
